import math

from .production import *
    
class BoltProduction(Production):
    
    Bolt_DB = {
        'М10' : {
            '30-40' : 0.06,
            '45-55' : 0.07,
            '60-70' : 0.08,
            '75-85' : 0.09,
            '90-100' : 0.1,
            '110-120' : 0.12,
            '130-140' : 0.13,
        },
        'М12' : {
            '30-40' : 0.07,
            '45-55' : 0.08,
            '60-70' : 0.09,
            '75-85' : 0.14,
            '90-100' : 0.14,
            '110-120' : 0.16,
            '130-140' : 0.18,
        },
        'М16' : {
            '30-40' : 0.08,
            '45-55' : 0.09,
            '60-70' : 0.1,
            '75-85' : 0.1,
            '90-100' : 0.12,
            '110-120' : 0.13,
            '130-140' : 0.14,
            '150-160' : 0.15,
            '170-180' : 0.15,
            '190-200' : 0.16,
            '210-220' : 0.17,
        },
        'М20' : {
            '30-40' : 0.09,
            '45-55' : 0.1,
            '60-70' : 0.1,
            '75-85' : 0.11,
            '90-100' : 0.13,
            '110-120' : 0.14,
            '130-140' : 0.15,
            '150-160' : 0.15,
            '170-180' : 0.16,
            '190-200' : 0.17,
            '210-220' : 0.18,
            '230-240' : 0.19,
            '250-260' : 0.21,
        },
        'М22' : {
            '30-40' : 0.1,
            '45-55' : 0.1,
            '60-70' : 0.11,
            '75-85' : 0.11,
            '90-100' : 0.14,
            '110-120' : 0.15,
            '130-140' : 0.15,
            '150-160' : 0.16,
            '170-180' : 0.17,
            '190-200' : 0.18,
            '210-220' : 0.19,
            '230-240' : 0.2,
            '250-260' : 0.21,
        },
        'М24' : {
            '30-40' : 0.11,
            '45-55' : 0.12,
            '60-70' : 0.13,
            '75-85' : 0.14,
            '90-100' : 0.15,
            '110-120' : 0.15,
            '130-140' : 0.16,
            '150-160' : 0.17,
            '170-180' : 0.18,
            '190-200' : 0.19,
            '210-220' : 0.2,
            '230-240' : 0.21,
            '250-260' : 0.22,
            '270-280' : 0.24,
            '290-300' : 0.25,
            '320-340' : 0.28,
        },
        'М27' : {
            '30-40' : 0.13,
            '45-55' : 0.14,
            '60-70' : 0.15,
            '75-85' : 0.15,
            '90-100' : 0.16,
            '110-120' : 0.17,
            '130-140' : 0.18,
            '150-160' : 0.19,
            '170-180' : 0.2,
            '190-200' : 0.21,
            '210-220' : 0.21,
            '230-240' : 0.23,
            '250-260' : 0.25,
            '270-280' : 0.26,
            '290-300' : 0.29,
            '320-340' : 0.32,
        },
        'М30' : {
            '45-55' : 0.15,
            '60-70' : 0.16,
            '75-85' : 0.17,
            '90-100' : 0.18,
            '110-120' : 0.19,
            '130-140' : 0.2,
            '150-160' : 0.21,
            '170-180' : 0.21,
            '190-200' : 0.22,
            '210-220' : 0.23,
            '230-240' : 0.25,
            '250-260' : 0.27,
            '270-280' : 0.3,
            '290-300' : 0.32,
            '320-340' : 0.34,
            '360-380' : 0.37,
        },
        'М36' : {
            '45-55' : 0.15,
            '60-70' : 0.19,
            '75-85' : 0.2,
            '90-100' : 0.21,
            '110-120' : 0.21,
            '130-140' : 0.22,
            '150-160' : 0.23,
            '170-180' : 0.24,
            '190-200' : 0.25,
            '210-220' : 0.27,
            '230-240' : 0.29, 
            '250-260' : 0.31, 
            '270-280' : 0.32, 
            '290-300' : 0.34, 
            '320-340' : 0.36, 
            '360-380' : 0.38,
        },
        'М42' : {
            '60-70' : 0.21,
            '75-85' : 0.21, 
            '90-100' : 0.22, 
            '110-120' : 0.23, 
            '130-140' : 0.24, 
            '150-160' : 0.25, 
            '170-180' : 0.25, 
            '190-200' : 0.27, 
            '210-220' : 0.29, 
            '230-240' : 0.31, 
            '250-260' : 0.32, 
            '270-280' : 0.34, 
            '290-300' : 0.36,  
            '320-340' : 0.38,  
            '360-380' : 0.41,  
            '450' : 0.44,
        },
        'М48' : {
            '60-70' : 0.25,
            '75-85' : 0.26,
            '90-100' : 0.27,
            '110-120' : 0.28,
            '130-140' : 0.29,
            '150-160' : 0.31,
            '170-180' : 0.32,
            '190-200' : 0.34,
            '210-220' : 0.36,
            '230-240' : 0.37,
            '250-260' : 0.39,
            '270-280' : 0.41,
            '290-300' : 0.42,
            '320-340' : 0.45,
            '360-380' : 0.47,
            '450' : 0.51,
        },
        'М56' : {
            '110-120' : 0.36,
            '130-140' : 0.37,
            '150-160' : 0.39,
            '170-180' : 0.41,
            '190-200' : 0.42,
            '210-220' : 0.44,
            '230-240' : 0.46,
            '250-260' : 0.47,
            '270-280' : 0.49,
            '290-300' : 0.51,
            '320-340' : 0.53,
            '360-380' : 0.56,
            '450' : 0.6,
        },
        'М64' : {
            '110-120' : 0.41,
            '130-140' : 0.42,
            '150-160' : 0.44,
            '170-180' : 0.46,
            '190-200' : 0.47,
            '210-220' : 0.49,
            '230-240' : 0.51,
            '250-260' : 0.53,
            '270-280' : 0.55,
            '290-300' : 0.56,
            '320-340' : 0.58,
            '360-380' : 0.61,
            '450' : 0.65,
        },
        'М72' : {
            '170-180' : 0.49,
            '190-200' : 0.51,
            '210-220' : 0.53,
            '230-240' : 0.55,
            '250-260' : 0.57,
            '270-280' : 0.6,
            '290-300' : 0.62,
            '320-340' : 0.65,
            '360-380' : 0.67,
            '450' : 0.7,
        },
        'М80' : {
            '250-260' : 0.65,
            '270-280' : 0.68,
            '290-300' : 0.72,
            '320-340' : 0.74,
            '360-380' : 0.77,
            '450' : 0.8,
        },
        'М90' : {
            '270-280' : 0.77,
            '290-300' : 0.82,
            '320-340' : 0.85,
            '360-380' : 0.89,
            '450' : 0.93,
        },
    }
    
    def __init__(self, carving, length, lotus=0):
        self.name = 'Болт'
        self.carving = carving
        self.length = length
        self.noise_koef = 1
        
        self.elements = []
        self.elements_hours = []
        
        if lotus == 1:
            self.noise_koef = 1.02            
            
        
    def calc_hours(self):
        
        self.hours = {}
        
        # 1. Подготовка места 
        self.hours[1] = ['mechanical_fastener_processing', self.get_from_DB()]
        
        
        
        # ИТОГ
        self.total_hours = sum([i[1] for i in self.hours.values()])

        
    def get_from_DB(self):
        for i in sorted(self.Bolt_DB.keys()):
            if i == self.carving:
                for k in sorted(self.Bolt_DB[i].keys()):
                    if k == self.length:
                        return self.Bolt_DB[i][k]
        return False